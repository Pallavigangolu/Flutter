import 'package:flutter/material.dart'; 
void main() => runApp(MaterialApp(home:ValidationForm()));
class ValidationForm extends StatefulWidget { 
  @override 
  _ValidationFormState createState() => _ValidationFormState(); 
} 
class _ValidationFormState extends State<ValidationForm> { 
  final _formKey = GlobalKey<FormState>(); 
  String email=''; 
  String password=''; 
  @override 
  Widget build(BuildContext context) { 
    return Scaffold(     
      appBar:AppBar(title:Text('Validation Form')),     
      body:Padding(     padding:EdgeInsets.all(16),     
      child: Form(     key: _formKey,     child: Column(    
       children:[ 
      //Email input with validator       
      TextFormField(       
      decoration: InputDecoration(labelText:'Email'), 
      keyboardType: TextInputType.emailAddress,       
       validator:(val){         
       if(val == null || val.isEmpty) return 'Email is required..';        
       if(!val.contains('@')) return 'Enter a valid Email..';         
       return null; 
      }, 
      onSaved: (val) => email=val??'' 
      ), 
      SizedBox(height: 16), 
      //Password input with validator       
      TextFormField( 
      decoration: InputDecoration(labelText:'Password'),      
      obscureText: true,       
      validator:(val) { 
        if(val == null || val.isEmpty)
        return 'Password is required..';         
        if(val.length<6) return 'Password must be atleast 6 characters';         
        return null; 
      }, 
      onSaved:(val) => password=val??'', 
      ), 
      SizedBox(height:24),       
      ElevatedButton(      
      child: Text('Submit'),      
       onPressed:(){        
       if(_formKey.currentState!.validate()){ 
          //If valid, save the form fileds          
            _formKey.currentState!.save();          
              showDialog(           
              context:context,          
              builder:(_) => AlertDialog( 
          title: Text('Success'),         
          content: Text('Email:$email\nPassword:$password'),)); 
         } 
       }
      ) 
      ]
     )
    )
   )
  ); 
 } 
} 
